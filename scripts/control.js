const main=document.getElementById("main"),nav_links=document.getElementsByClassName("mobile-nav-text"),mobile_nav_checkbox=document.getElementById("side-menu"),mobile_nav_checkbox_label=document.getElementsByClassName("hamb")[0],mobile_nav=document.getElementById("mobile-nav"),pages=document.getElementsByClassName("site-page"),num_pages=pages.length;let current_page_index=0,navigating=!1;const buddy_video=document.getElementById("buddy-holly");let autoplayed=!1,mq=window.matchMedia("(min-width: 1024px)");const carousels=document.getElementsByClassName("carousel"),titles=document.getElementsByClassName("title"),roles=document.getElementsByClassName("role"),prevButtonList=document.getElementsByClassName("carousel-prev"),nextButtonList=document.getElementsByClassName("carousel-next"),numberOfCarousels=carousels.length;let positions=new Array(numberOfCarousels).fill(0);const numSlides=[3,3,2,4,3,9],text_overlays=document.getElementsByClassName("video-overlay"),screen_overlays=document.getElementsByClassName("video-screen-overlay"),videos=document.getElementsByClassName("overlayed-video"),num_videos=videos.length,audio=document.getElementById("audio"),audioSource=document.getElementById("audio-source"),currentTitle=document.getElementById("current-title-display"),songDisplays=document.getElementsByClassName("song-display"),playBoxNumbers=document.getElementsByClassName("play-box-number"),sources=["audio/01 - Jack Gerhard - Roseanne.mp3","audio/02 - Jack Gerhard - One Last Time.mp3","audio/03 - Jack Gerhard - Can't Slow Down.mp3"],song_titles=["Roseanne","One Last Time","Can't Slow Down"];let currentSongIndex=-1;function handleHambClick(){if(mobile_nav_checkbox.checked)document.body.classList.remove("no-scroll");else for(video of(document.body.classList.add("no-scroll"),buddy_video.paused||buddy_video.pause(),audio.paused||audio.pause(),videos))video.paused||video.pause()}function handleNavLinkClick(){if(mobile_nav_checkbox.checked&&(mobile_nav_checkbox.checked=!1,document.body.classList.remove("no-scroll")),0!=this.i&&0!=current_page_index||(buddy_video.currentTime=0,buddy_video.pause()),1==this.i&&resetCarousels(),2==current_page_index){for(video of videos)video.currentTime=0,video.pause(),video.removeAttribute("controls");for(overlay of text_overlays)overlay.classList.remove("hidden");for(overlay of screen_overlays)overlay.classList.remove("hidden")}if(3==current_page_index){audio.currentTime=0;let e=!0;audio.pause(),e=!1,currentSongIndex>=0&&(songDisplays[currentSongIndex].classList.remove("current-song"),playBoxNumbers[currentSongIndex].classList.remove("fa","fa-play","fa-pause","fa-icon-adjust"),playBoxNumbers[currentSongIndex].classList.add("display-text"),playBoxNumbers[currentSongIndex].textContent=`${currentSongIndex+1}`),currentSongIndex=-1,currentTitle.innerText=song_titles[0],audioSource.src=sources[0],audio.load()}pages[current_page_index].classList.add("hidden"),window.scrollTo(0,0),pages[this.i].classList.remove("hidden"),current_page_index=this.i}function autoplay(){autoplayed||(buddy_video.play(),autoplayed=!0)}function handleMobileVideoViewIntersection(){let e=buddy_video.play();void 0!==e&&e.then((()=>{new IntersectionObserver((e=>{e.forEach((e=>{1===e.intersectionRatio||buddy_video.paused?e.intersectionRatio>.9&&buddy_video.paused&&buddy_video.play():buddy_video.pause()}))}),{threshold:.9}).observe(buddy_video)}))}function handleVideoClick(){buddy_video.paused?buddy_video.pause():buddy_video.play()}function changeShowText(e){3==e?0==positions[3]||1==positions[3]?(titles[e].classList.remove("title-small-font"),titles[e].textContent="Jesus Christ Superstar",roles[e].textContent="Jesus"):2!=positions[3]&&3!=positions[3]||(titles[e].classList.add("title-small-font"),titles[e].textContent="A Gentleman's Guide to Love and Murder",roles[e].textContent="Man #1"):4==e?0==positions[4]||1==positions[4]?(titles[e].textContent="Life Could Be A Dream",roles[e].textContent="Eugene"):2==positions[4]&&(titles[e].textContent="Smoke On The Mountain",roles[e].textContent="Dennis"):5==e&&(0==positions[5]||1==positions[5]?(titles[e].textContent="Oklahoma",roles[e].textContent="Curly"):2==positions[5]||3==positions[5]||4==positions[5]?(titles[e].textContent="Heathers",roles[e].textContent="Kurt"):5==positions[5]||6==positions[5]||7==positions[5]?(titles[e].textContent="Bonnie & Clyde",roles[e].textContent="Buck"):8==positions[5]&&(titles[e].textContent="Assassins",roles[e].textContent="Leon Czolgoz"))}function handleMoveToPrevSlide(){carousels[this.i].children[0].children[positions[this.i]].classList.remove("carousel-item-visible"),carousels[this.i].children[1].children[positions[this.i]].classList.remove("active-tab"),0==positions[this.i]?positions[this.i]=numSlides[this.i]-1:positions[this.i]=positions[this.i]-1,changeShowText(this.i),carousels[this.i].children[0].children[positions[this.i]].classList.add("carousel-item-visible"),carousels[this.i].children[1].children[positions[this.i]].classList.add("active-tab")}function handleMoveToNextSlide(){carousels[this.i].children[0].children[positions[this.i]].classList.remove("carousel-item-visible"),carousels[this.i].children[1].children[positions[this.i]].classList.remove("active-tab"),positions[this.i]==numSlides[this.i]-1?positions[this.i]=0:positions[this.i]=positions[this.i]+1,changeShowText(this.i),carousels[this.i].children[0].children[positions[this.i]].classList.add("carousel-item-visible"),carousels[this.i].children[1].children[positions[this.i]].classList.add("active-tab")}function resetCarousels(){for(carousel of carousels){let e=0;for(item of carousel.children[0].children)0==e?(item.classList.add("carousel-item-visible"),carousel.children[1].children[e].classList.add("active-tab")):(item.classList.remove("carousel-item-visible"),carousel.children[1].children[e].classList.remove("active-tab")),e++;titles[3].textContent="Jesus Christ Superstar",titles[3].classList.remove("title-small-font"),roles[3].textContent="Jesus",titles[4].textContent="Life Could Be A Dream",roles[4].textContent="Eugene",titles[5].textContent="Oklahoma",roles[5].textContent="Curly"}for(let e=0;e<numberOfCarousels;e++)positions[e]=0}function toggleControls(e){e.hasAttribute("controls")?e.removeAttribute("controls"):e.setAttribute("controls","controls")}function handleOverlayClick(){for(let e=0;e<num_videos;e++)this.i==e?(this.classList.add("hidden"),screen_overlays[e].classList.add("hidden"),videos[e].play(),videos[e].setAttribute("controls","controls")):(text_overlays[e].classList.remove("hidden"),screen_overlays[e].classList.remove("hidden"),videos[e].pause(),videos[e].removeAttribute("controls"))}function handleVideoPlay(){for(let e=0;e<num_videos;e++)this.i==e?(text_overlays[e].classList.add("hidden"),screen_overlays[e].classList.add("hidden"),videos[e].play()):(text_overlays[e].classList.remove("hidden"),screen_overlays[e].classList.remove("hidden"),videos[e].pause())}function handleVideoEnd(){text_overlays[this.i].classList.remove("hidden"),screen_overlays[this.i].classList.remove("hidden")}function handleSongClick(e){currentSongIndex!==this.i?(currentSongIndex>=0&&(songDisplays[currentSongIndex].classList.remove("current-song"),playBoxNumbers[currentSongIndex].classList.remove("fa","fa-play","fa-pause","fa-icon-adjust"),playBoxNumbers[currentSongIndex].classList.add("display-text"),playBoxNumbers[currentSongIndex].textContent=`${currentSongIndex+1}`),currentSongIndex=this.i,songDisplays[currentSongIndex].classList.add("current-song"),playBoxNumbers[currentSongIndex].classList.remove("display-text"),playBoxNumbers[currentSongIndex].classList.add("fa","fa-pause","fa-icon-adjust"),playBoxNumbers[currentSongIndex].textContent="",currentTitle.innerText=song_titles[this.i],audioSource.src=sources[this.i],audio.load(),audio.play()):audio.paused?(playBoxNumbers[currentSongIndex].classList.remove("fa-play"),playBoxNumbers[currentSongIndex].classList.add("fa-pause"),audio.play()):(playBoxNumbers[currentSongIndex].classList.remove("fa-pause"),playBoxNumbers[currentSongIndex].classList.add("fa-play"),audio.pause())}function handleAudioPlay(e){-1==currentSongIndex?(currentSongIndex=0,songDisplays[currentSongIndex].classList.add("current-song"),playBoxNumbers[currentSongIndex].classList.remove("display-text"),playBoxNumbers[currentSongIndex].classList.add("fa","fa-pause","fa-icon-adjust"),playBoxNumbers[currentSongIndex].textContent=""):(playBoxNumbers[currentSongIndex].classList.remove("fa-play"),playBoxNumbers[currentSongIndex].classList.add("fa-pause"))}function handleAudioPause(e){navigating||(playBoxNumbers[currentSongIndex].classList.remove("fa-pause"),playBoxNumbers[currentSongIndex].classList.add("fa-play"))}function disableSpaceBar(e){" "!=e.key&&"Space"!=e.code&&32!=e.keyCode||3!=current_page_index||e.preventDefault()}mobile_nav_checkbox_label.addEventListener("click",handleHambClick);for(let e=0;e<num_pages;e++)nav_links[e].i=e,nav_links[e].addEventListener("click",handleNavLinkClick),nav_links[e].addEventListener("click",(()=>{main.classList.add("fade")})),nav_links[e].addEventListener("click",(()=>{setTimeout((()=>{main.classList.add("transition"),main.classList.remove("fade")}),1)})),nav_links[e].addEventListener("click",(()=>{main.classList.remove("transition")}));buddy_video.addEventListener("click",handleVideoClick),mq.matches?autoplayed||autoplay():handleMobileVideoViewIntersection();for(let e=0;e<numberOfCarousels;e++)prevButtonList[e].i=e,nextButtonList[e].i=e,prevButtonList[e].addEventListener("click",handleMoveToPrevSlide),nextButtonList[e].addEventListener("click",handleMoveToNextSlide);for(let e=0;e<num_videos;e++)videos[e].i=e,videos[e].addEventListener("play",handleVideoPlay),videos[e].addEventListener("ended",handleVideoEnd),text_overlays[e].i=e,text_overlays[e].addEventListener("click",handleOverlayClick);for(let e=0;e<songDisplays.length;e++)songDisplays[e].i=e,songDisplays[e].addEventListener("click",handleSongClick);document.body.addEventListener("keydown",disableSpaceBar),audio.addEventListener("play",handleAudioPlay),audio.addEventListener("pause",handleAudioPause);